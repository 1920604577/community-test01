"use strict";(self["webpackChunkproject_blind"]=self["webpackChunkproject_blind"]||[]).push([[606],{1225:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-wrap"},[t("div",{staticClass:"ms-title"},[e._v("hln - blink系统")]),t("div",{staticClass:"ms-login"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm}},[t("h2",{staticClass:"mt-4"},[e._v("登入您的账户")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"username"},model:{value:e.userLoginBo.username,callback:function(t){e.$set(e.userLoginBo,"username",t)},expression:"userLoginBo.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.userLoginBo.password,callback:function(t){e.$set(e.userLoginBo,"password",t)},expression:"userLoginBo.password"}})],1),t("div",{staticClass:"login-btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm.apply(null,arguments)}}},[e._v("登录")])],1),t("p",{staticStyle:{"font-size":"12px","line-height":"30px",color:"#999"}},[e._v("Tips : 用户名和密码要写数据库里的一致。 "),t("el-button",{attrs:{type:"primary"},on:{click:e.goReg}},[e._v("注册")])],1)],1)],1)])},o=[],n=(s(4114),s(6130)),a=s(1933),i=s(9143),l={data(){return{ruleForm:{username:"",password:""},userLoginBo:{username:"",password:""},switchButton:!1}},methods:{goReg(){this.$router.push("/userReg")},async submitForm(){this.switchButton=!0;var e=await(0,a.gv)("/user/login",this.userLoginBo);if(console.log(e),"0x200"!=e.code)return i.MessageBox.alert("登录失败","提示",{confirmButtonText:"确定",type:"error"}),alert(e.message),this.userLoginBo.username="",this.userLoginBo.password="",void(this.switchButton=!1);(0,n.T)("token",e.data.token),console.log(e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("role",JSON.stringify(e.data.role)),localStorage.setItem("ms_username",e.data.user.username),alert(e.message),this.$router.push("/home"),i.MessageBox.alert("登录成功","提示",{confirmButtonText:"确定",type:"success"}),this.switchButton=!1}}},u=l,m=s(1656),c=(0,m.A)(u,r,o,!1,null,"55b7d35a",null),p=c.exports}}]);
//# sourceMappingURL=606.177e8c56.js.map